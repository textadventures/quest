@page "/textadventures/{Id}"
@using QuestViva.Common
@using Player = WebPlayer.Components.Player
@rendermode InteractiveServer

<Player GameDataProvider="@GetGameDataProvider()"></Player>

@code {
    [Parameter] public required string Id { get; set; }
    [Inject] private HttpClient HttpClient { get; set; } = null!;
    
    private IGameDataProvider GetGameDataProvider()
    {
        return new UrlGameDataProvider(HttpClient, "http://textadventures.co.uk/games/download/" + Id, $"textadventures.{Id}");
    }
}